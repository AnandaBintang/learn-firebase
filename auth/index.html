<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Login + Firebase Database</title>
  </head>
  <body>
    <h2 id="form_header">Login Firebase Google</h2>
    <button onclick="login()">Login with Google</button>
    <button onclick="logout()">Logout</button>

    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
      import {
        getAuth,
        signInWithPopup,
        GoogleAuthProvider,
        signOut,
      } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";

      // Your Config Here

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const provider = new GoogleAuthProvider();

      const auth = getAuth();

      function login() {
        signInWithPopup(auth, provider)
          .then((result) => {
            const user = result.user;
            alert("Login Sukses! Halo " + user.email);
          })
          .catch((error) => {
            alert("Login Gagal! Error: " + error.message);
          });
      }

      function logout() {
        signOut(auth)
          .then(() => {
            alert("Logout Sukses!");
          })
          .catch((error) => {
            alert("Logout gagal! Error: " + error.message);
          });
      }

      window.login = login;
      window.logout = logout;
    </script>
  </body>
</html>
